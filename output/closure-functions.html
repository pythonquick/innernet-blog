
<!DOCTYPE html>
<html lang="en">
<head>
  <link href='//fonts.googleapis.com/css?family=Source+Sans+Pro:300,400,700,400italic' rel='stylesheet' type='text/css'>

    <link rel="stylesheet" type="text/css" href="http://localhost:8000/theme/stylesheet/style.min.css">

  <link rel="stylesheet" type="text/css" href="http://localhost:8000/theme/pygments/github.min.css">
  <link rel="stylesheet" type="text/css" href="http://localhost:8000/theme/font-awesome/css/font-awesome.min.css">





  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="HandheldFriendly" content="True" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta name="robots" content="" />


<meta name="author" content="Guenther" />
<meta name="description" content="Quick definition of a closure in JavaScript: A function that "captures" or holds on to variables of its enclosing (parent) function. That means a closure is always a function inside a function. Normally the local variables (and parameters) of a function only "live" during the call/execution of a function ..." />
<meta name="keywords" content="JavaScript, ES5">
<meta property="og:site_name" content="innernet"/>
<meta property="og:title" content="Closure Functions"/>
<meta property="og:description" content="Quick definition of a closure in JavaScript: A function that "captures" or holds on to variables of its enclosing (parent) function. That means a closure is always a function inside a function. Normally the local variables (and parameters) of a function only "live" during the call/execution of a function ..."/>
<meta property="og:locale" content="en_US"/>
<meta property="og:url" content="http://localhost:8000/closure-functions.html"/>
<meta property="og:type" content="article"/>
<meta property="article:published_time" content="2016-03-03 00:00:00-05:00"/>
<meta property="article:modified_time" content=""/>
<meta property="article:author" content="http://localhost:8000/author/guenther.html">
<meta property="article:section" content="Tutorials"/>
<meta property="article:tag" content="JavaScript"/>
<meta property="article:tag" content="ES5"/>
<meta property="og:image" content="http://s.gravatar.com/avatar/fcfe36f97f3eb56b69ecce65d0c895dc?s=80">

  <title>innernet &ndash; Closure Functions</title>
</head>
<body>
  <aside>
    <div>
      <a href="http://localhost:8000">
        <img src="http://s.gravatar.com/avatar/fcfe36f97f3eb56b69ecce65d0c895dc?s=80" alt="" title="">
      </a>
      <h1><a href="http://localhost:8000"></a></h1>


      <nav>
        <ul class="list">
          <li><a href="http://localhost:8000/pages/about.html#about">About</a></li>

        </ul>
      </nav>

      <ul class="social">
        <li><a class="sc-You can add links in your config file" href="#" target="_blank"><i class="fa fa-You can add links in your config file"></i></a></li>
        <li><a class="sc-Another social link" href="#" target="_blank"><i class="fa fa-Another social link"></i></a></li>
      </ul>
    </div>
  </aside>
  <main>
    <nav>
      <a href="http://localhost:8000">    Home
</a>

      <a href="/categories.html">Categories</a>
      <a href="/tags.html">Tags</a>
      <a href="/archives.html">Archives</a>


    </nav>

<article class="single">
  <header>
    <h1 id="closure-functions">Closure Functions</h1>
    <p>
          Posted on Thu 03 March 2016 in <a href="http://localhost:8000/category/tutorials.html">Tutorials</a>


    </p>
  </header>
  <div>
    <p>Quick definition of a closure in JavaScript:</p>
<blockquote>
<p>A function that "captures" or holds on to variables of its enclosing (parent) function.</p>
</blockquote>
<p>That means a closure is always a function inside a function. Normally the local variables (and parameters) of a function only "live" during the call/execution of a function. Once the function completes or returns, the memory for those local variables are released or cleaned up. If the parent function returns a child function that references variables of the parent function, the JavaScript runtime (browser) cannot clean up the variable for those local variables. They need to stay around because the child function depends on them.</p>
<p>Let's consider an example. Let's suppose Judy needs to paint the ceiling of three rooms. She buys three cans of special ceiling paint - one for each room. The labels of the paint cans have an unusual way of specifying the volume. The label specifies how big a circle the paint can cover. For example, the small can of paint can cover the area of a circle that has a 3-foot radius. Is there enough to paint the three places that need renovation ?  </p>
<ul>
<li>The closet has an area of 10 square feet.<ul>
<li>The can for closet ceiling paint is enough to paint the area of a 3-foot radius circle.</li>
</ul>
</li>
<li>The bathroom has an area of 150 square feet.<ul>
<li>The can for bathroom ceiling paint is enough to paint the area of a 7-foot radius circle</li>
</ul>
</li>
<li>The entire second floor has an area of 1000 square feet.<ul>
<li>The can for living area ceiling paint is enough to paint the area of a 10-foot radius circle</li>
</ul>
</li>
</ul>
<p>The snippet below will determine if Judy's cans of paint are enough to cover the above three rooms:</p>
<div class="highlight"><pre><span></span><span class="kd">function</span> <span class="nx">generateCircleAreaChecker</span><span class="p">(</span><span class="nx">radius</span><span class="p">)</span> <span class="p">{</span>
    <span class="kd">var</span> <span class="nx">aeraOfCircle</span> <span class="o">=</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">PI</span> <span class="o">*</span> <span class="nx">radius</span> <span class="o">*</span> <span class="nx">radius</span><span class="p">;</span>

    <span class="k">return</span> <span class="kd">function</span><span class="p">(</span><span class="nx">area</span><span class="p">)</span> <span class="p">{</span>
        <span class="c1">// Return true if given area is within the area</span>
        <span class="c1">// of a circle of given radius:</span>
        <span class="k">return</span> <span class="nx">area</span> <span class="o">&lt;=</span> <span class="nx">aeraOfCircle</span><span class="p">;</span>
    <span class="p">};</span>
<span class="p">}</span>


<span class="kd">function</span> <span class="nx">checkPaintCoverage</span><span class="p">(</span><span class="nx">params</span><span class="p">)</span> <span class="p">{</span>
    <span class="kd">var</span> <span class="nx">circleAreaChecker</span> <span class="o">=</span> <span class="nx">generateCircleAreaChecker</span><span class="p">(</span><span class="nx">params</span><span class="p">.</span><span class="nx">paintCircleRadius</span><span class="p">);</span>
    <span class="kd">var</span> <span class="nx">isWithinCircleArea</span> <span class="o">=</span> <span class="nx">circleAreaChecker</span><span class="p">(</span><span class="nx">params</span><span class="p">.</span><span class="nx">roomArea</span><span class="p">);</span>
    <span class="k">if</span> <span class="p">(</span><span class="nx">isWithinCircleArea</span><span class="p">)</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">&#39;YES! Enough paint to paint &#39;</span> <span class="o">+</span> <span class="nx">params</span><span class="p">.</span><span class="nx">room</span><span class="p">);</span>
    <span class="k">else</span>    
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">&#39;NO... Not enough paint to paint &#39;</span> <span class="o">+</span> <span class="nx">params</span><span class="p">.</span><span class="nx">room</span><span class="p">);</span>
<span class="p">}</span>


<span class="c1">// Check if the 3 rooms can be painted by the room&#39;s can of paint:</span>
<span class="nx">checkPaintCoverage</span><span class="p">({</span><span class="nx">room</span><span class="o">:</span> <span class="s1">&#39;Closet&#39;</span><span class="p">,</span> <span class="nx">roomArea</span><span class="o">:</span> <span class="mi">10</span><span class="p">,</span> <span class="nx">paintCircleRadius</span><span class="o">:</span> <span class="mi">3</span><span class="p">});</span>
<span class="nx">checkPaintCoverage</span><span class="p">({</span><span class="nx">room</span><span class="o">:</span> <span class="s1">&#39;Bathroom&#39;</span><span class="p">,</span> <span class="nx">roomArea</span><span class="o">:</span> <span class="mi">150</span><span class="p">,</span> <span class="nx">paintCircleRadius</span><span class="o">:</span> <span class="mi">7</span><span class="p">});</span>
<span class="nx">checkPaintCoverage</span><span class="p">({</span><span class="nx">room</span><span class="o">:</span> <span class="s1">&#39;Second Floor&#39;</span><span class="p">,</span> <span class="nx">roomArea</span><span class="o">:</span> <span class="mi">1000</span><span class="p">,</span> <span class="nx">paintCircleRadius</span><span class="o">:</span> <span class="mi">10</span><span class="p">});</span>
</pre></div>


<p>At the bottom of the snippet, we call the <code>checkPaintCoverage</code> function to check if the can of paint for each room will be enough. Here is the output on the console:</p>
<div class="highlight"><pre><span></span>YES! Enough paint to paint Closet
YES! Enough paint to paint Bathroom
NO... Not enough paint to paint Second Floor
</pre></div>


<p><strong>Side Note:</strong></p>
<p>the <code>checkPaintCoverage</code> function takes only one parameter: an object containing three values. In some cases, passing multiple values inside an object can make things clearer because each value can be named. In the above snippet, the values are named <code>room</code>, <code>roomArea</code> and <code>paintCircleRadius</code>. In this case, we could have used three separate parameters - no difference. In cases where there's a very long list of 5 or more parameters, it can be clearer if the parameters are named. In the case of using a single object parameter, the order of the values inside the object don't matter. However, with a list of parameters, the order must match the order in which the function expects the parameters.</p>
<p>"So, where is the closure function?", you might ask. The picture below shows:</p>
<p><img alt="closure" src="https://innernet.io/media/closure.png" /></p>
<p>If you look at the <code>generateCircleAreaChecker</code> function, you'll see that it defines a local variable called <code>aeraOfCircle</code> which contains the area of a circle with the given radius. 
In the first line of the function, it generates a function that is initialized with a radius for a circle.</p>
<p>This <code>generateCircleAreaChecker</code> function returns a nested (child) function. Notice that the child function references the variable <code>areaOfCircle</code> which is defined outside of the child function. It uses the pre-calculated area of the circle to compare the parameter that gets passed to it. In this case, since the child function will be returned and the child function references the outside variable <code>areaOfCircle</code>, it means the <code>areaOfCircle</code> variable needs to stay around - the JavaScript runtime environment (browser) will not clean up the memory for that variable as long as the child function is in scope. The child function "closes over" or captures a snapshot of the local variable <code>areaOfCircle</code> and holds on to it. Note: eventually the memory of the <code>areaOfCircle</code> variable will be cleaned up. When? As soon as the <code>checkPaintCoverage</code> function call is done, because the <code>checkPaintCoverage</code> function is the only place that holds a reference to the closure function.</p>
<p>That's it! Closures are basically just nested functions that reference (and hold on to) variables from their enclosing function. They remember the context or values when they were created.</p>
  </div>
  <div class="tag-cloud">
    <p>
      <a href="http://localhost:8000/tag/javascript.html">JavaScript</a>
      <a href="http://localhost:8000/tag/es5.html">ES5</a>
    </p>
  </div>



</article>

    <footer>
<p>&copy; Guenther </p>
<p>    Powered by <a href="http://getpelican.com" target="_blank">Pelican</a> - <a href="https://github.com/alexandrevicenzi/flex" target="_blank">Flex</a> theme by <a href="http://alexandrevicenzi.com" target="_blank">Alexandre Vicenzi</a>
</p>    </footer>
  </main>





<script type="application/ld+json">
{
  "@context" : "http://schema.org",
  "@type" : "Blog",
  "name": " innernet ",
  "url" : "http://localhost:8000",
  "image": "http://s.gravatar.com/avatar/fcfe36f97f3eb56b69ecce65d0c895dc?s=80",
  "description": ""
}
</script>
</body>
</html>