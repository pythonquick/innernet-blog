
<!DOCTYPE html>
<html lang="en">
<head>
  <link href='//fonts.googleapis.com/css?family=Source+Sans+Pro:300,400,700,400italic' rel='stylesheet' type='text/css'>

    <link rel="stylesheet" type="text/css" href="http://localhost:8000/theme/stylesheet/style.min.css">

  <link rel="stylesheet" type="text/css" href="http://localhost:8000/theme/pygments/github.min.css">
  <link rel="stylesheet" type="text/css" href="http://localhost:8000/theme/font-awesome/css/font-awesome.min.css">





  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="HandheldFriendly" content="True" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta name="robots" content="" />


<meta name="author" content="Guenther" />
<meta name="description" content="Part 3 looks at a new way of declaring functions. Arrow functions Arrow functions (also called "fat arrow functions") provide a short-hand syntax for declaring functions. The general syntax looks like this: (x) =＞ { } The above creates a function that takes one parameter. The body of the function is inside the ..." />
<meta name="keywords" content="JavaScript, ES2015">
<meta property="og:site_name" content="innernet"/>
<meta property="og:title" content="ES2015 Part 3: Arrow Functions"/>
<meta property="og:description" content="Part 3 looks at a new way of declaring functions. Arrow functions Arrow functions (also called "fat arrow functions") provide a short-hand syntax for declaring functions. The general syntax looks like this: (x) =＞ { } The above creates a function that takes one parameter. The body of the function is inside the ..."/>
<meta property="og:locale" content="en_US"/>
<meta property="og:url" content="http://localhost:8000/es2015-part-3-arrow-functions.html"/>
<meta property="og:type" content="article"/>
<meta property="article:published_time" content="2016-09-02 11:00:00-04:00"/>
<meta property="article:modified_time" content=""/>
<meta property="article:author" content="http://localhost:8000/author/guenther.html">
<meta property="article:section" content="Tutorials"/>
<meta property="article:tag" content="JavaScript"/>
<meta property="article:tag" content="ES2015"/>
<meta property="og:image" content="http://s.gravatar.com/avatar/fcfe36f97f3eb56b69ecce65d0c895dc?s=80">

  <title>innernet &ndash; ES2015 Part 3: Arrow Functions</title>
</head>
<body>
  <aside>
    <div>
      <a href="http://localhost:8000">
        <img src="http://s.gravatar.com/avatar/fcfe36f97f3eb56b69ecce65d0c895dc?s=80" alt="" title="">
      </a>
      <h1><a href="http://localhost:8000"></a></h1>


      <nav>
        <ul class="list">
          <li><a href="http://localhost:8000/pages/about.html#about">About</a></li>

        </ul>
      </nav>

      <ul class="social">
        <li><a class="sc-You can add links in your config file" href="#" target="_blank"><i class="fa fa-You can add links in your config file"></i></a></li>
        <li><a class="sc-Another social link" href="#" target="_blank"><i class="fa fa-Another social link"></i></a></li>
      </ul>
    </div>
  </aside>
  <main>
    <nav>
      <a href="http://localhost:8000">    Home
</a>

      <a href="/categories.html">Categories</a>
      <a href="/tags.html">Tags</a>
      <a href="/archives.html">Archives</a>


    </nav>

<article class="single">
  <header>
    <h1 id="es2015-part-3-arrow-functions">ES2015 Part 3: Arrow Functions</h1>
    <p>
          Posted on Fri 02 September 2016 in <a href="http://localhost:8000/category/tutorials.html">Tutorials</a>


    </p>
  </header>
  <div>
    <p>Part 3 looks at a new way of declaring functions.</p>
<h1>Arrow functions</h1>
<p>Arrow functions (also called "fat arrow functions") provide a short-hand syntax for declaring functions.</p>
<p>The general syntax looks like this:</p>
<pre>
(x)  =＞ { }
</pre>

<p>The above creates a function that takes one parameter. The body of the function is inside the curly braces: { }. The above function has an empty body, so it does nothing at all.</p>
<p>There are two further simplifications possible:</p>
<ul>
<li>If the function takes only one parameter, the parentheses around the parameter are optional</li>
<li>If the function consists of a single return value, the curly braces can be omitted. In that case, the expression after the =&gt; (fat arrow) becomes the returned result and the <code>return</code> keyword is not used.</li>
</ul>
<p>For example, the following is a function that returns the square of the input parameter number. Since the function consists of a single return statement, there are no curly braces and no <code>return</code> statement:</p>
<pre>
x    =＞ x*x
</pre>

<h2>Simple usage</h2>
<p>The following example shows three calls to function <code>displayResult</code>. For each call, a function gets passed as the third parameter - the arrow function . The <code>displayResult</code> function will then call this function with the supplied parameter:</p>
<div class="highlight"><pre><span></span><span class="kd">function</span> <span class="nx">displayResult</span><span class="p">(</span><span class="nx">title</span><span class="p">,</span> <span class="nx">value</span><span class="p">,</span> <span class="nx">func</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">title</span><span class="p">,</span> <span class="s1">&#39;of&#39;</span><span class="p">,</span> <span class="nx">value</span><span class="p">,</span> <span class="s1">&#39;is&#39;</span><span class="p">,</span> <span class="nx">func</span><span class="p">(</span><span class="nx">value</span><span class="p">));</span>
<span class="p">}</span>


<span class="nx">displayResult</span><span class="p">(</span><span class="s1">&#39;identity&#39;</span>                    <span class="p">,</span> <span class="mi">5</span><span class="p">,</span>   <span class="nx">x</span> <span class="o">=&gt;</span> <span class="nx">x</span> <span class="p">);</span>
<span class="nx">displayResult</span><span class="p">(</span><span class="s1">&#39;square&#39;</span>                      <span class="p">,</span> <span class="mi">6</span><span class="p">,</span>   <span class="nx">x</span> <span class="o">=&gt;</span> <span class="nx">x</span><span class="o">*</span><span class="nx">x</span> <span class="p">);</span>
<span class="nx">displayResult</span><span class="p">(</span><span class="s1">&#39;area of circle with radius&#39;</span>  <span class="p">,</span> <span class="mi">7</span><span class="p">,</span>   <span class="nx">x</span> <span class="o">=&gt;</span> <span class="nx">x</span><span class="o">*</span><span class="nx">x</span><span class="o">*</span><span class="mf">3.14</span> <span class="p">);</span>
</pre></div>


<p>The output looks as follows:</p>
<pre>
identity of 5 is 5
square of 6 is 36
area of circle with radius of 7 is 153.86
</pre>

<h2>Useful with array methods</h2>
<p>Arrays in JavaScript have several methods that take callbacks to transform, filter or operate on the array content:</p>
<ul>
<li>every</li>
<li>filter</li>
<li>find</li>
<li>forEach</li>
<li>map</li>
<li>sort</li>
</ul>
<p>One of these array methods is <code>map</code> which creates a new array based on the original array with each array element transformed according to the specified callback function.</p>
<p>The following will create a new array containing the volume of the given side-lengths of five cubic boxes:</p>
<div class="highlight"><pre><span></span><span class="kd">let</span> <span class="nx">boxLengths</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">16</span><span class="p">,</span> <span class="mi">24</span><span class="p">];</span>
<span class="kd">let</span> <span class="nx">boxVolumes</span> <span class="o">=</span> <span class="nx">boxLengths</span><span class="p">.</span><span class="nx">map</span><span class="p">(</span><span class="nx">x</span> <span class="o">=&gt;</span> <span class="nx">x</span><span class="o">*</span><span class="nx">x</span><span class="o">*</span><span class="nx">x</span><span class="p">);</span>
<span class="k">for</span> <span class="p">(</span><span class="kd">let</span> <span class="nx">idx</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span> <span class="nx">idx</span><span class="o">&lt;</span><span class="nx">boxVolumes</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span> <span class="nx">idx</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span>
        <span class="s1">&#39;Box with side length of&#39;</span><span class="p">,</span>
        <span class="nx">boxLengths</span><span class="p">[</span><span class="nx">idx</span><span class="p">],</span>
        <span class="s1">&#39;has volume of&#39;</span><span class="p">,</span>
        <span class="nx">boxVolumes</span><span class="p">[</span><span class="nx">idx</span><span class="p">]</span>
    <span class="p">);</span>
<span class="p">}</span>
</pre></div>


<p>It will output the following:
<pre>
Box with side length of 1 has volume of 1
Box with side length of 4 has volume of 64
Box with side length of 6 has volume of 216
Box with side length of 16 has volume of 4096
Box with side length of 24 has volume of 13824
</pre></p>
<p>Another array method is <code>filter</code>, which returns a new array which is a subset of the original array. The supplied callback function determines whether a given array element should be included in the returned (filtered) array. Here's an example that outputs which of the original numbers are divisible by 16:</p>
<div class="highlight"><pre><span></span><span class="kd">let</span> <span class="nx">numbers</span> <span class="o">=</span> <span class="p">[</span><span class="mi">15</span><span class="p">,</span> <span class="mi">48</span><span class="p">,</span> <span class="mi">80</span><span class="p">,</span> <span class="mi">94</span><span class="p">,</span> <span class="mi">128</span><span class="p">,</span> <span class="mi">140</span><span class="p">];</span>
<span class="kd">let</span> <span class="nx">sixteens</span> <span class="o">=</span> <span class="nx">numbers</span><span class="p">.</span><span class="nx">filter</span><span class="p">(</span> <span class="nx">x</span> <span class="o">=&gt;</span> <span class="nx">x</span> <span class="o">%</span> <span class="mi">16</span> <span class="o">===</span> <span class="mi">0</span> <span class="p">);</span>
<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span>
    <span class="s2">&quot;From the sequence of numbers, the ones divisible by sixteen are: &quot;</span><span class="p">,</span>
    <span class="nx">sixteens</span><span class="p">.</span><span class="nx">join</span><span class="p">(</span><span class="s2">&quot;, &quot;</span><span class="p">)</span>
<span class="p">);</span>
</pre></div>


<p>The output will look as follows:</p>
<pre>
From the sequence of numbers, the ones divisible by sixteen are:  48, 80, 128
</pre>

<p>In the above cases, it would make no difference to use an arrow function, or an inline function. The nice thing about arrow functions is that it requires less boilerplate code. They are more succinct and easier to read when when dealing with simple transformation functions.</p>
<h2>The "this" context</h2>
<p>In a JavaScript function the <code>this</code> keyword refers to the context in which the function got called. The context is the object on which the function gets called.</p>
<p>Consider this example:</p>
<div class="highlight"><pre><span></span><span class="kd">let</span> <span class="nx">bob</span> <span class="o">=</span> <span class="p">{</span>
    <span class="nx">name</span><span class="o">:</span> <span class="s1">&#39;bob&#39;</span><span class="p">,</span> 
    <span class="nx">friends</span><span class="o">:</span> <span class="p">[</span><span class="s1">&#39;Susan&#39;</span><span class="p">,</span> <span class="s1">&#39;Joe&#39;</span><span class="p">,</span> <span class="s1">&#39;Michael&#39;</span><span class="p">],</span> 
    <span class="nx">printFriends</span><span class="o">:</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">name</span><span class="p">,</span> <span class="s2">&quot;has&quot;</span><span class="p">,</span> <span class="k">this</span><span class="p">.</span><span class="nx">friends</span><span class="p">.</span><span class="nx">length</span><span class="p">,</span> <span class="s1">&#39;friends&#39;</span><span class="p">)</span>
    <span class="p">}</span>
<span class="p">};</span>

<span class="nx">bob</span><span class="p">.</span><span class="nx">printFriends</span><span class="p">();</span>
</pre></div>


<p>Here, <code>printFriends</code> is a method function, called on the <code>bob</code> object. When the <code>printFriends</code> function executes, the <code>this</code> keyword will point to the <code>bob</code> object. The output looks as follows:
<pre>
Bob has 3 friends
</pre></p>
<p>Consider the following version that attempts to use the forEach array method to print out bob's friends:</p>
<div class="highlight"><pre><span></span><span class="kd">let</span> <span class="nx">bob</span> <span class="o">=</span> <span class="p">{</span>
    <span class="nx">name</span><span class="o">:</span> <span class="s1">&#39;bob&#39;</span><span class="p">,</span> 
    <span class="nx">friends</span><span class="o">:</span> <span class="p">[</span><span class="s1">&#39;Susan&#39;</span><span class="p">,</span> <span class="s1">&#39;Joe&#39;</span><span class="p">,</span> <span class="s1">&#39;Michael&#39;</span><span class="p">],</span> 
    <span class="nx">printFriends</span><span class="o">:</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
        <span class="k">this</span><span class="p">.</span><span class="nx">friends</span><span class="p">.</span><span class="nx">forEach</span><span class="p">(</span>
            <span class="kd">function</span><span class="p">(</span><span class="nx">item</span><span class="p">)</span> <span class="p">{</span> 
                <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">name</span> <span class="o">+</span> <span class="s2">&quot; knows &quot;</span> <span class="o">+</span> <span class="nx">item</span><span class="p">);</span>
            <span class="p">}</span>
        <span class="p">);</span>
    <span class="p">}</span>
<span class="p">};</span>

<span class="nx">bob</span><span class="p">.</span><span class="nx">printFriends</span><span class="p">();</span>
</pre></div>


<p>The output will not be as expected:
<pre>
undefined knows Susan
undefined knows Joe
undefined knows Michael
</pre></p>
<p>Why is it printing undefined instead of bob?
The reason for this is that we lost the original context to the bob object. When the <code>forEach</code> array method calls the specified callback function, that callback function does not get called on the bob object. Therefore, the <code>this</code> keyword inside the specified callback function will not point to bob. In fact, because we're not running this script in "strict mode", the <code>this</code> keyword will point to the global context: the browser's Window object which also holds all global variables. Unless we previously defined a global variable with the name of "name", it will output "undefined" as above.</p>
<p>A workaround could be to capture the <code>this</code> object into another variable, and then reference that variable inside the callback function - using JavaScript's closure capability. Below is another version that captures the <code>this</code> context into a variable named "me":</p>
<div class="highlight"><pre><span></span><span class="kd">let</span> <span class="nx">bob</span> <span class="o">=</span> <span class="p">{</span>
    <span class="nx">name</span><span class="o">:</span> <span class="s1">&#39;bob&#39;</span><span class="p">,</span> 
    <span class="nx">friends</span><span class="o">:</span> <span class="p">[</span><span class="s1">&#39;Susan&#39;</span><span class="p">,</span> <span class="s1">&#39;Joe&#39;</span><span class="p">,</span> <span class="s1">&#39;Michael&#39;</span><span class="p">],</span> 
    <span class="nx">printFriends</span><span class="o">:</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
        <span class="kd">var</span> <span class="nx">me</span> <span class="o">=</span> <span class="k">this</span><span class="p">;</span>
        <span class="k">this</span><span class="p">.</span><span class="nx">friends</span><span class="p">.</span><span class="nx">forEach</span><span class="p">(</span>
            <span class="kd">function</span><span class="p">(</span><span class="nx">item</span><span class="p">)</span> <span class="p">{</span> 
                <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">me</span><span class="p">.</span><span class="nx">name</span> <span class="o">+</span> <span class="s2">&quot; knows &quot;</span> <span class="o">+</span> <span class="nx">item</span><span class="p">);</span>
            <span class="p">}</span>
        <span class="p">);</span>
    <span class="p">}</span>
<span class="p">};</span>

<span class="nx">bob</span><span class="p">.</span><span class="nx">printFriends</span><span class="p">()</span>
</pre></div>


<p>Now the output looks as expected:
<pre>
bob knows Susan
bob knows Joe
bob knows Michael
</pre></p>
<p>A consequence of using arrow functions as opposed to regular functions, is that arrow functions do not create a new context when called. That means, when we use the <code>this</code> keyword inside the body of an arrow function, it will refer to <code>this</code> from the surrounding function. Here's how we can change the code to use an arrow function:</p>
<div class="highlight"><pre><span></span><span class="kd">let</span> <span class="nx">bob</span> <span class="o">=</span> <span class="p">{</span>
    <span class="nx">name</span><span class="o">:</span> <span class="s1">&#39;bob&#39;</span><span class="p">,</span> 
    <span class="nx">friends</span><span class="o">:</span> <span class="p">[</span><span class="s1">&#39;Susan&#39;</span><span class="p">,</span> <span class="s1">&#39;Joe&#39;</span><span class="p">,</span> <span class="s1">&#39;Michael&#39;</span><span class="p">],</span> 
    <span class="nx">printFriends</span><span class="o">:</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
        <span class="k">this</span><span class="p">.</span><span class="nx">friends</span><span class="p">.</span><span class="nx">forEach</span><span class="p">(</span> 
            <span class="nx">item</span> <span class="o">=&gt;</span> <span class="p">{</span> 
                <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">name</span> <span class="o">+</span> <span class="s2">&quot; knows &quot;</span> <span class="o">+</span> <span class="nx">item</span><span class="p">);</span> 
            <span class="p">}</span>
        <span class="p">);</span>
    <span class="p">}</span>
<span class="p">};</span>

<span class="nx">bob</span><span class="p">.</span><span class="nx">printFriends</span><span class="p">()</span>
</pre></div>


<p>Note: the above examples with <code>forEach</code> merely illustrate the context behavior. A regular old <code>for</code> loop would probably work better in this case than using the <code>forEach</code> method.</p>
  </div>
  <div class="tag-cloud">
    <p>
      <a href="http://localhost:8000/tag/javascript.html">JavaScript</a>
      <a href="http://localhost:8000/tag/es2015.html">ES2015</a>
    </p>
  </div>



</article>

    <footer>
<p>&copy; Guenther </p>
<p>    Powered by <a href="http://getpelican.com" target="_blank">Pelican</a> - <a href="https://github.com/alexandrevicenzi/flex" target="_blank">Flex</a> theme by <a href="http://alexandrevicenzi.com" target="_blank">Alexandre Vicenzi</a>
</p>    </footer>
  </main>





<script type="application/ld+json">
{
  "@context" : "http://schema.org",
  "@type" : "Blog",
  "name": " innernet ",
  "url" : "http://localhost:8000",
  "image": "http://s.gravatar.com/avatar/fcfe36f97f3eb56b69ecce65d0c895dc?s=80",
  "description": ""
}
</script>
</body>
</html>